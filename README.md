# **<HBTI/>** 
#### MBTI 건강습관 형성 서비스 :running:

![HBTI_COVER](https://user-images.githubusercontent.com/78305431/150625490-f9ac4c32-935f-4080-9767-3850649334cf.jpg)

> 21-2 데이터베이스 프로그래밍 01분반 09팀 코딩궁딩
>> 신유정(팀장), 이은서(팀원), 유정민(팀원)

---
### 목차
1) [개요 및 특징](#개요_및_특징)
2) [사용 기술과 담당 기능](#사용_기술과_담당_기능)
3) [시스템 구조와 설계 결과](#시스템_구조와_설계_결과)
4) [배운점](#배운점)
5) [주의사항](#주의사항)
---
### 개요 및 특징

#### ✍️ 개발 개요
- 코로나 팬데믹의 영향으로 **스스로를 고찰하는 시간과 건강에 대한 우려가 증가**
- **자신의 성향과 맞는 파트너**가 있다면 **지속적인 동기 부여** 가능
- MZ 세대가 열광하는 MBTI를 접목시켜 **트랜드를 고려한 건강 습관 형성 서비스 개발**

#### ✅제공 서비스
![image](https://user-images.githubusercontent.com/78305431/150626262-d1da9e98-47bc-4d27-aa7c-7ea5eaeb79fc.png)

- 로그인, 회원가입, HBTI 검사, 회원정보수정, HBTI 재검사, 회원 탈퇴 등 **전반적인 회원 관리 기능**
- 건강 습관 **투두 리스트** 기록 & 수정 & 삭제 & 날짜 검색
- 자신의 **HBTI 결과**에 따른 설명을 확인
- HBTI별 챌린지 달성 **랭킹**을 확인
- HBTI에 맞는 **그룹**을 검색, 가입, 생성
- 그룹장은 그룹 정보 수정, 그룹원 관리가 가능
- 그룹에 소속된다면 **일일 챌린지** 확인, 일일 챌린지 인증 게시물 등록 & 수정 & 삭제, 그룹 탈퇴가 가능
- **My DONE Calendar**를 통해 월별 투두, 챌린지 달성 여부를 한 눈에 확인이 가능하며 해당 투두/챌린지 포스트로 이동 가능

#### 📊기대 효과

- MZ세대에 가장 흥미 있는 분야인 **MBTI**를 **건강**과 접목시켜 재미있게 서비스를 이용할 수 있도록 하였습니다. 오로지 ‘나’에 대해 집중할 수 있고, 성향이 비슷한 동료와 함께 도전함으로써 동기부여가 가능한 구조가 다른 건강 습관 서비스와의 차별점이라 보았습니다.
- **건강 습관 투두 리스트**는 작은 습관부터 일상 속에서 꾸준히 실천 + 지속하는데 도움을 줄 것입니다. **일일 챌린지**는 사소하지만 쉽게 지나칠 수 있는 힐링 미션부터 시작하여 튼튼한 신체를 위한 운동 미션까지 다양하게 구성하여 건강한 삶을 이끌어내는 역할을 하고 있습니다.
- **HBTI 그룹**을 통해 소속감을 느끼면서 동시에 **챌린지 달성 랭킹**을 직관적으로 확인할 수 있도록 하여 도전 의식을 심어주고 이를 통해 건강 습관 실천에 대한 동기 부여가 되도록 하였습니다.

---
### 사용 기술과 담당 기능
#### 🛠사용 기술 및 라이브러리

- Java
- JDBC, MyBatis, maven 기반 MVC 구조
- Oracle SQL
- HTML, CSS, JS
- Quartz Scheduler

#### 🖥️담당한 기능(Main, Join, MyPage, User)

- 기능별로 파트를 나누어 MVC 모델을 기반으로 구현했습니다
    - User의 로그인, 회원가입 등 전반적인 User CRUD 및 MVC 구현
    - HBTI 관련 MVC 구현
    - MyPage 관련 MVC 구현
    - Todo/Challenge Callendar 구현
    - Main Page MVC 구현
    - 랭킹 기능 구현
- Main, MyPage, Login, 회원가입, HBTI Test UI 기획 및 구현
- User, HBTI DB 테이블 스키마 설계 및 구현

---

### 시스템 구조와 설계 결과
#### Use Case 
![image](https://user-images.githubusercontent.com/78305431/150626113-7ce515ba-e53f-4685-bd05-603ff61da7ee.png)

#### MVC 시스템 구성도
![image](https://user-images.githubusercontent.com/78305431/150626137-539a43e7-529b-470d-b914-d6106eb1b81c.png)

#### 데이터베이스 스키마
![image](https://user-images.githubusercontent.com/78305431/150626189-b3812671-1615-4551-9d31-1bef50f97521.png)

#### 데이터베이스 설계 (Oracle)
![image](https://user-images.githubusercontent.com/78305431/150626159-e6a8fded-576d-4a32-8cc5-ee626eb28053.png)

#### 도메인 클래스 설계
![image](https://user-images.githubusercontent.com/78305431/150626216-ded61dd5-e1d8-4028-bf96-12089dec0f57.png)

#### 예외처리
![image](https://user-images.githubusercontent.com/78305431/150626310-91dcdaa9-5308-4013-b5e2-d17afeee4f2e.png)


---
### 배운점

### **데이터 베이스**

- 이론으로만 알고있었던 데이터베이스 시스템을 바탕으로 DBMS(Oracle)와 데이터베이스 모델링도구 (ER-Win)을 활용한 데이터베이스를 직접 설계 및 구축해보았습니다.
    - 전제조건 : User 테이블은 HBTI, TodoList, Group, Challenge 등 모든 테이블과 참조 관계로 이루어져 있습니다.
    - **처음** 회원 탈퇴, 회원 수정을 진행할 때는 테이블간의 참조 관계를 고려하지 않은 채 부모 테이블(User)의 레코드만 삭제/수정하려 했었습니다.
    - **그 결과**, 연관된 코드들 대부분에서 에러가 발생했고 원하는 대로 회원 정보가 수정/삭제되지 않았습니다.
    - **이로 인해**
    1. 부모 테이블에 있는 레코드를 수정하거나 삭제할때는 자식 테이블의 레코드를 먼저 삭제/수정하는 코드를 반드시 추가해주어야한다는 것을 깨달았습니다. 
    2. 이론만 공부했을 때에는 안일하게 생각했던 **테이블 간의 참조관계**를 가장 중요하게 생각하게 되었으며 `**무결성 제약 조건` 개념**을  체화할 수 있었습니다.
    3. 이후 비슷한 상황에서 똑같은 실수를 반복하지 않았으며 **안정적인 기능을 구현**할 수 있게되었습니다.

### 코드 리팩토링

- JDBC API로 먼저 구현해본 후 MyBatis로 코드를 다시 **리팩토링** 해보며 둘의 **차이와 장단점**을 명확하게 배웠습니다.
    - **JDBC**는 1개의 클래스 내에서 SQL 및 DB 연결, JAVA언어가 모두 사용되므로 재사용성이 좋지 않습니다.
    - 반면에 **MyBatis**는 SQL문이 소스 코드로부터 분리되었고, 파라미터와 결과 매핑을 자동으로 해주어 코드의 간결성 및 유지보수성이 향상됩니다.

### 나무에서 숲을 보게되다

- 각 상황별로 필요한 **SQL query문**을 구현하는데 능숙해졌습니다.
- **log값을 활용**하여 에러의 원인을 빠르게 파악하여 대처할 수 있엇고, 명확한 데이터 값을 확인할 수 있어 **MVC 구조의 흐름**을 직관적으로 이해할 수 있게되었습니다.
- use case model 부터 DAO/DTO, 도메인 클래스, MVC 구조, 데이터베이스 등을 하나하나 설계해본 후 이를 바탕으로 구현해보며 **구체적이고 정확한 설계의 중요성**을 느낄 수 있었습니다.
    - 초반 미흡한 설계로 인해 팀원 간 미스 커뮤니케이션이 발생해 일관성 없는 데이터 값을 전달하거나 테이블 참조 관계를 잘못 정의해 데이터를 모두 삭제하는 일이 있기도 하였습니다. 시간이 다소 걸리더라도 다시 요구사항 명세부터 세부적으로 정리해나갔고 시행착오 없이 진행이 가능했습니다.
    
     
    

### 협업

- 팀원 간의 시간 약속, 의사소통, 책임감을 요하는 규칙을 설정하는 것은 불필요한 갈등을 줄이고, 긍정적인 분위기를 불러와 시너지를 발휘할 수 있음을 알았습니다.
- `**Github**` 와 같은 소스 관리 툴을 통해 협업을 진행하면서 코드를 합치거나 코드 리뷰를 할 때 **효율적임**을 느꼈고 각자 구현한 코드에 대해 피드백하고 같이 해결해보며 코드뿐만이 아니라 전체적인 실행 흐름에 대해 간과하고 있었던 부분을 알게되는 등 **한정적인 시각에서 벗어날 수** 있었습니다.
- 팀원들 덕분에 **다양한 test case**를 가지고 여러 오류 상황에 대해 대비할 수 있었으며 혼자라면 미처 몰랐었던 부분들을 보완하며 **안정적인 서비스**를 구축할 수 있게 되었습니다.
---
### 주의사항

#### 테스트용 ID/PW
- 그룹장 

	- ID : testA1
	- PW : testA1
- 그룹원 

	- ID : testA2
	- PW : testA2
- 그룹 소속(x)

	- ID : testA3
	- ID : testA3

- 그룹장은 ```그룹원 관리``` 기능을 이용할 수 있습니다.

- 랭킹은 ```챌린지 달성 인원/HBTI 그룹 인원``` 으로 계산되며 전제조건은  Group에 가입되어 있는 회원입니다.

- 날짜가 지난 Todo는 달성 여부를 변경할 수 없습니다. ```content 수정, 삭제는 가능```

- 챌린지는 서버가 켜져있을 때, ```자정마다 랜덤으로 배정```됩니다.

- 캘린더 클릭 시 투두를 확인할 수 있습니다. ```챌린지 확인 불가```

- 투두. 챌린지, 랭킹은 자정마다 초기화되므로, 당일 게시물이 없다면 아무것도 출력되지 않습니다.

- Chrome 브라우저에 최적화하여 개발을 진행했습니다.
